/*
 * datchik ex1.c

### üîπ –®–∞–≥ 2: –†–∞–±–æ—Ç–∞ —Å –º–∞—Å—Å–∏–≤–æ–º —Å—Ç—Ä—É–∫—Ç—É—Ä
**–ó–∞–¥–∞—á–∞**: –•—Ä–∞–Ω–∏—Ç—å –Ω–µ –æ–¥–Ω—É –∑–∞–ø–∏—Å—å, –∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ (–º–∞—Å—Å–∏–≤ –∑–∞–ø–∏—Å–µ–π). 
–ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∞—Å—Å–∏–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä `sensor` –∏ –Ω–∞—É—á–∏–º—Å—è –¥–æ–±–∞–≤–ª—è—Ç—å 
–≤ –Ω–µ–≥–æ –∑–∞–ø–∏—Å–∏.

**–†–µ—à–µ–Ω–∏–µ**:
1. –û–±—ä—è–≤–∏–º –º–∞—Å—Å–∏–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä `sensor` —Å —Ä–∞–∑–º–µ—Ä–æ–º `SIZE` 
(—É –Ω–∞—Å —É–∂–µ –µ—Å—Ç—å `#define SIZE 30`).

2. –ù–∞–ø–∏—à–µ–º —Ñ—É–Ω–∫—Ü–∏—é `AddRecord`, 
–∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –æ–¥–Ω—É –∑–∞–ø–∏—Å—å –≤ –º–∞—Å—Å–∏–≤ –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –∏–Ω–¥–µ–∫—Å—É.
	–ù–∞–ø–∏—à–µ–º —Ñ—É–Ω–∫—Ü–∏—é `PrintAll`, 
–∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≤—ã–≤–æ–¥–∏—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ "–ì–ì–ì–ì-–ú–ú-–î–î"

3. –í —Ñ—É–Ω–∫—Ü–∏–∏ `main` —Å–æ–∑–¥–∞–¥–∏–º –º–∞—Å—Å–∏–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä 
–î–æ–±–∞–≤—å 2 –∑–∞–ø–∏—Å–∏ —Å –ø–æ–º–æ—â—å—é AddRecord:
–ü–µ—Ä–≤–∞—è: (2023, 5, 15, 20)
–í—Ç–æ—Ä–∞—è: (2022, 12, 31, -5)

–í—ã–≤–µ–¥–∏ –≤—Å–µ –∑–∞–ø–∏—Å–∏ —á–µ—Ä–µ–∑ PrintAll(data, 2)
 */

#include <stdio.h>
#include <stdint.h>
#define SIZE 30 //–®–∞–≥ 2 –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π

//–®–∞–≥ 1: –°–æ–∑–¥–∞–¥–∏–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ–¥–Ω–æ–≥–æ –∏–∑–º–µ—Ä–µ–Ω–∏—è (–¥–∞—Ç—á–∏–∫–∞). –í —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –±—É–¥—É—Ç –ø–æ–ª—è: –¥–µ–Ω—å, –º–µ—Å—è—Ü, –≥–æ–¥ –∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞.
struct sensor {
    uint8_t day;       // –î–µ–Ω—å (1-31) (–¥–∏–∞–ø–∞–∑–æ–Ω 0-255), —Ç–∞–∫ –∫–∞–∫ –¥–Ω–∏/–º–µ—Å—è—Ü—ã –Ω–µ –ø—Ä–µ–≤—ã—à–∞—é—Ç 31.
    uint8_t month;     // –ú–µ—Å—è—Ü (1-12) (–¥–∏–∞–ø–∞–∑–æ–Ω 0-255), —Ç–∞–∫ –∫–∞–∫ –¥–Ω–∏/–º–µ—Å—è—Ü—ã –Ω–µ –ø—Ä–µ–≤—ã—à–∞—é—Ç 12.
    uint16_t year;     // –ì–æ–¥ (4 —Ü–∏—Ñ—Ä—ã)
    int8_t t;          // –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (–¥–∏–∞–ø–∞–∑–æ–Ω 0-255), (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –æ—Ç -128 –¥–æ +127). –≠—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Ä–µ–≥–∏–æ–Ω–æ–≤.
};

//–®–∞–≥ 2 –¥–æ–±–∞–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –∑–∞–ø–∏—Å–µ–π –≤ –º–∞—Å—Å–∏–≤, –≤ —à–∞–≥–µ 1 –±—ã–ª–æ –≤ main
void AddRecord(struct sensor* info, int index, uint16_t year, uint8_t month, uint8_t day, int8_t t) //–§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –º–∞—Å—Å–∏–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä, –∏–Ω–¥–µ–∫—Å, –∞ —Ç–∞–∫–∂–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –ø–æ–ª–µ–π. –ó–∞–ø–æ–ª–Ω—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –∏–Ω–¥–µ–∫—Å—É.
{ 																									//–ó–∞–ø–æ–ª–Ω—è–µ—Ç –ø–æ–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –º–∞—Å—Å–∏–≤–∞
	info[index].year = year;
	info[index].month = month;
	info[index].day = day;
	info[index].t = t;
}
//–®–∞–≥ 2 –¥–æ–±–∞–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –≤—ã–≤–æ–¥–∞ –º–∞—Å—Å–∏–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä, –ø–µ—Ä–µ–¥–∞–µ–º —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –º–∞—Å—Å–∏–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π
void Print (struct sensor* info, int count)
{
	printf("===================================\n");
	for(int i =0; i<count; i++){
		printf("%04d - %02d - %02d temperature = %3d\n",
		info[i].year,
		info[i].month,
		info[i].day,
		info[i].t);
		}
}

int main(int argc, char **argv)
{
		//–ë—ã–ª–æ –≤ —à–∞–≥–µ 1, –≤ —à–∞–≥–µ 2 –ø–µ—Ä–µ–Ω–µ—Å–ª–∏ –≤ —Ñ—É–Ω–∫—Ü–∏—é AddRecord, –∞ –≤—ã–≤–æ–¥ –≤ PrintAll
		//~ struct sensor data = {15, 5, 2023, 20};
		//–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
		//~ struct sensor data;
		//~ data.day = 15;
		//~ data.month = 5;
		//~ data.year = 2023;
		//~ data.t = 20;
		//~ printf("day: %d month: %d year: %d temperature: %d", data.day, data.month, data.year, data.t);
	
		
	//–®–ê–ì 1 
	struct sensor info [SIZE]; // —à–∞–≥ 2 –º–∞—Å—Å–∏–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä —Å —Ç–µ–≥–æ–º sensor –∏–∑ SIZE –∑–∞–ø–∏—Å–µ–π
	Print(info, count);
	
	//–®–ê–ì 2 –æ–±—ä—è–≤–ª–µ–º —Ñ—É–Ω–∫—Ü–∏—é –∑–∞–ø–∏—Å–∏ –≤ –º–∞—Å—Å–∏–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä info 
	int count =0;	
	AddRecord(info, count++, 2023, 5, 15, 20);  //–∏–Ω–¥–µ–∫—Å 0
	AddRecord(info, count++, 2022, 12, 31, -5); //–∏–Ω–¥–µ–∫—Å 1
		
	
	
	return 0;
}

