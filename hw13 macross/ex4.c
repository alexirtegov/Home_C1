/*
Этот макрос использует трюк с XOR для обмена значений двух переменных без временной переменной. Работает в три шага:

a ^= b → a = a ^ b
b ^= a → b = b ^ a
a ^= b → a = a ^ b

Возьмем a = 1 (двоичное 01), b = 2 (двоичное 10):

a = a ^ b → 01 ^ 10 = 11 (3) → a=3
b = b ^ a → 10 ^ 11 = 01 (1) → b=1
a = a ^ b → 11 ^ 01 = 10 (2) → a=2   
Итог: a=2, b=1 (значения поменялись местами).
 
Оператор "запятая":
Выражения выполняются последовательно слева направо
Результат последнего выражения игнорируется
Скобки () группируют операции в одно выражение
 */


#include <stdio.h>

/* Открывающая скобка не должна быть отделена пробельными
символами от имени макроса. Если в списке параметров или в
тексте встречаются комментарии, каждый комментарий заменяется
на один символ пробела. */

#define SWAP(a,b) (a ^= b, b ^= a, a ^= b)

int main(void)
{
    int a=1,b=2;
    printf("%d %d\n",a,b);
    
    SWAP(a,b);
    printf("%d %d\n",a,b);
    return 0;
}
