/*
#define HALF(x) x/2
Макрос выполняет простое текстовое замещение:
HALF(выражение) → выражение / 2

Макрос не имеет скобок вокруг параметра x и всего выражения.
Это приводит к проблемам с приоритетом операций при подстановке.

После подстановки препроцессором:
b = a + 5 / 2;  // а не (a + 5)/2
a = 5
Выражение: 5 + 5 / 2
Приоритет операций: деление выполняется перед сложением
5 / 2 = 2 (целочисленное деление)
5 + 2 = 7
Результат: b = 7

Почему это не (5 + 5)/2 = 5?
Препроцессор выполняет текстовую замену, а не передачу параметров как в функциях.
Без скобок выражение интерпретируется по правилам приоритета операторов C.
 */


#include <stdio.h>

#define HALF(x) x/2

int main(void)
{
    int a=5, b;
    b = HALF(a + 5);
    printf("a = %d b = %d\n",a, b);
    return 0;
}
